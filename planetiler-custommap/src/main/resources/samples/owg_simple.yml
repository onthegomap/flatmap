schema_name: OWG Simple Schema
schema_description: Simple vector tile schema
attribution: <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy;
  OpenStreetMap contributors</a>
sources:
  water_polygons:
    type: shapefile
    url: https://osmdata.openstreetmap.de/download/water-polygons-split-3857.zip
  osm:
    type: osm
    url: geofabrik:rhode-island
tag_mappings:
  bridge: boolean
  intermittent: boolean
  layer: long
  tunnel: boolean
layers:
- name: water
  features:
  - sources:
    - osm
    geometry: polygon
    include_when:
      natural: water
    attributes:
    - key: natural
    - key: intermittent
      include_when:
        intermittent: true
    - key: name
      min_tile_cover_size: 0.01
      include_when:
      exclude_when:
        tag:
          key: water
          value:
          - river
          - canal
          - stream
  - sources:
    - water_polygons
    geometry: polygon
    include_when:
    attributes:
    - key: natural
      constant_value: water
  - sources:
    - osm
    min_zoom: 7
    geometry: line
    include_when:
      tag:
        key: waterway
        value:
        - river
        - stream
        - canal
    attributes:
    - key: waterway
    - key: intermittent
      include_when:
        intermittent: true
    - key: name
      min_zoom: 12
- name: road
  features:
  - sources:
    - osm
    geometry: line
    include_when:
      highway:
      - motorway
      - trunk
      - primary
      - secondary
      - tertiary
      - motorway_link
      - trunk_link
      - primary_link
      - secondary_link
      - tertiary_link
      - unclassified
      - residential
      - living_street
      - service
      - track
    attributes:
    - key: highway
      min_zoom: 4
      min_zoom_by_value:
        trunk: 5
        primary: 7
        secondary: 8
        tertiary: 9
        motorway_link: 9
        trunk_link: 9
        primary_link: 9
        secondary_link: 9
        tertiary_link: 9
        unclassified: 11
        residential: 11
        living_street: 11
        track: 12
        service: 13
    - key: bridge
      include_when:
        bridge: true
      min_zoom: 11
    - key: tunnel
      include_when:
        bridge: true
      min_zoom: 11
    - key: service
      include_when:
        highway: service
      min_zoom: 13
    - key: name
      min_zoom: 12
    - key: layer
      min_zoom: 13
