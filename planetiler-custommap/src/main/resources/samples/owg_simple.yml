schema_name: OWG Simple Schema
schema_description: Simple vector tile schema
attribution: <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy;
  OpenStreetMap contributors</a>
sources:
  water_polygons:
    type: shapefile
    url: https://osmdata.openstreetmap.de/download/water-polygons-split-3857.zip
  osm:
    type: osm
    url: geofabrik:rhode-island
tag_mappings:
  bridge: boolean
  intermittent: boolean
  layer: long
  tunnel: boolean
layers:
- name: water
  features:
  - sources:
    - osm
    geometry: polygon
    include_when:
      natural: water
    attributes:
    - key: natural
    - key: intermittent
      include_when:
        intermittent: true
    - key: name
      min_tile_cover_size: 0.01
      include_when:
      exclude_when:
        tag:
          key: water
          value:
          - river
          - canal
          - stream
  - sources:
    - water_polygons
    geometry: polygon
    include_when:
    attributes:
    - key: natural
      constant_value: water
  - sources:
    - osm
    zoom:
      min_zoom: 7
    geometry: line
    include_when:
      tag:
        key: waterway
        value:
        - river
        - stream
        - canal
    attributes:
    - key: waterway
    - key: intermittent
      include_when:
        intermittent: true
    - key: name
      min_zoom: 12
- name: road
  features:
  - sources:
    - osm
    geometry: line
    include_when:
      highway:
      - motorway
      - trunk
      - primary
      - secondary
      - tertiary
      - motorway_link
      - trunk_link
      - primary_link
      - secondary_link
      - tertiary_link
      - unclassified
      - residential
      - living_street
      - service
      - track
    zoom:
      min_zoom: 4
      zoom_filter:
      - tag:
          highway: trunk
        min_zoom: 5
      - tag:
          highway: primary
        min_zoom: 7
      - tag:
          highway: secondary
        min_zoom: 8
      - tag:
          highway:
          - tertiary
          - motorway_link
          - trunk_link
          - primary_link
          - secondary_link
          - tertiary_link
        min_zoom: 9
      - tag:
          highway:
          - unclassified
          - residential
          - living_street
        min_zoom: 11
      - tag:
          highway: track
        min_zoom: 12
      - tag:
          highway: service
        min_zoom: 13
    attributes:
    - key: highway
    - key: bridge
      include_when:
        bridge: true
      min_zoom: 11
    - key: tunnel
      include_when:
        bridge: true
      min_zoom: 11
    - key: service
      include_when:
        highway: service
      min_zoom: 13
    - key: name
      min_zoom: 12
    - key: layer
      min_zoom: 13
